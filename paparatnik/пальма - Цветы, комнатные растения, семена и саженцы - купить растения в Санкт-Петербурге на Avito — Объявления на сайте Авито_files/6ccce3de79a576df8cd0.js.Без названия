!function(l){function e(e){for(var t,n,i=e[0],r=e[1],o=e[2],a=0,s=[];a<i.length;a++)n=i[a],c[n]&&s.push(c[n][0]),c[n]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(l[t]=r[t]);for(b&&b(e);s.length;)s.shift()();return u.push.apply(u,o||[]),d()}function d(){for(var e,t=0;t<u.length;t++){for(var n=u[t],i=!0,r=1;r<n.length;r++){var o=n[r];0!==c[o]&&(i=!1)}i&&(u.splice(t--,1),e=a(a.s=n[0]))}return e}var n={},c={d4a88986:0},u=[];function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=l,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://static.avito.ru/s/cc/";var t=window.webpackJsonp=window.webpackJsonp||[],i=t.push.bind(t);t.push=e,t=t.slice();for(var r=0;r<t.length;r++)e(t[r]);var b=i;u.push([2595,"68539597","024225cb","31f924cd"]),d()}({2595:function(e,t,n){e.exports=n(6015)},2596:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(6055),a=500;function i(e,t,n,i){var r=Object(o.i)(function(){e&&Object(o.c)(e)&&(Object(o.h)({version:0,eid:3180,pagetype:n,placement:i,banner_id:t}),window.removeEventListener("scroll",r))},a);window.addEventListener("scroll",r),r()}},2597:function(e,t,n){e.exports={root:"web-push-subscribe-banner-root-1Xhzn","root_design-wide":"web-push-subscribe-banner-root_design-wide-z4W_3","root_design-catalog":"web-push-subscribe-banner-root_design-catalog-rQRkC","text-container":"web-push-subscribe-banner-text-container-jLMTO",title:"web-push-subscribe-banner-title-anOz9"}},6015:function(e,t,n){"use strict";n.r(t);var i=n(35),a=n.n(i),r=n(38),o=n.n(r),s=n(43),l=n(6038),d="CLOSE_BANNER",c={isVisible:!0};function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c;switch((1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).type){case d:return{isVisible:!1}}return e}function b(e){return"".concat("web-push-subscribe-banner","_").concat(e)}var f=n(741),h=3e5;function w(e){var t=e.userId;try{var n=window.localStorage.getItem(b(t));return!n||function(e){return Date.now()-e>=h}(parseInt(n,10))}catch(e){return!0}}var p="web-push-subscribe-banner-logged",x=200;function g(e){var t=e.bannerRotationData;return window.avito.firebaseMessaging&&window.avito.firebaseMessaging.subscribe().then(function(){!function(){try{window.localStorage.setItem(p,1)}catch(e){}setTimeout(function(){window.localStorage.removeItem(p)},x)}(),function(e){var t=e.isAgree,n=e.bannerRotationData;Object(f.a)({version:0,eid:3207,pagetype:n.bannerPage,placement:n.bannerPosition,banner_id:n.bannerId,action_type:t?"click-subscribe":"click-not-subscribe"}),Object(f.a)({version:2,eid:2682,browser_web_push_agreement:t?1:0,snippet_placement:n.bannerId})}({isAgree:"granted"===Notification.permission,bannerRotationData:t})}),{type:d}}var v=n(45),m=n.n(v),y=n(497),z=n.n(y),j=n(6178),k=n(819),O=n(875),P=n(865),R=n(2596),_=n(2597),I=n.n(_),C="web-push-subscribe-banner",H=function(e){function n(e){var t;return babelHelpers.classCallCheck(this,n),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this,e)),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(t),"handleCloseBanner",function(){t.props.onClose()}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(t),"handleClickButton",function(){t.props.onClickButton()}),t.bannerRef=a.a.createRef(),t}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isVisible,n=e.onShow,i=e.bannerRotationData,r=i.bannerId,o=i.bannerPage,a=i.bannerPosition;t&&(n(),Object(R.a)(this.bannerRef.current,r,o,a))}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.title,i=e.text,r=e.design;if(!t)return null;var o=z()(I.a.root,I.a["root_design-".concat(r)]);return a.a.createElement(k.a,babelHelpers.extends({design:"warning",onClose:this.handleCloseBanner},Object(j.b)({marker:C})),a.a.createElement("div",{ref:this.bannerRef,className:o},a.a.createElement("div",{className:I.a["text-container"]},a.a.createElement(O.a,babelHelpers.extends({size:"default"===r?"s":"m"},Object(j.b)({marker:C},"text")),a.a.createElement("span",{className:I.a.title},n)," ",i)),a.a.createElement(P.a,babelHelpers.extends({onClick:this.handleClickButton},Object(j.b)({marker:C},"text")),"Разрешить уведомления")))}}]),n}(i.PureComponent);babelHelpers.defineProperty(H,"propTypes",{design:m.a.oneOf(["default","wide","catalog"]),isVisible:m.a.bool,title:m.a.string,text:m.a.string,bannerRotationData:m.a.object,onClose:m.a.func.isRequired,onClickButton:m.a.func.isRequired,onShow:m.a.func.isRequired}),babelHelpers.defineProperty(H,"defaultProps",{isVisible:!0,title:"Подписка на web-push уведомления.",text:"Будьте в курсе нового!",design:"default"});var S=Object(s.connect)(function(e,t){var n=t.userId;return{isVisible:Boolean(e.isVisible&&window.avito.firebaseMessaging&&"default"===(window.Notification||{}).permission&&w({userId:n})),onShow:function(){return function(e){var t=e.userId;try{window.localStorage.setItem(b(t),Date.now())}catch(e){}}({userId:n})}}},function(e,t){var n=t.bannerRotationData;return{onClose:function(){e(function(e){return fetch("/js/banner/close",{method:"POST",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},body:JSON.stringify(e)}),{type:d}}(n))},onClickButton:function(){e(g({bannerRotationData:n})),function(e){var t=e.bannerRotationData;Object(f.a)({version:0,eid:3207,pagetype:t.bannerPage,placement:t.bannerPosition,banner_id:t.bannerId,action_type:"click"})}({bannerRotationData:n})}}})(H),E=document.getElementById("js-web-push-subscribe-banner");if(E){var B=E.dataset,D=B.design,T=B.title,M=B.text,V=B.bannerId,X=B.bannerPage,N=B.bannerPosition,L=B.bannerCloseTimeout,A=B.userId,q={bannerId:V,bannerPage:X||"",bannerPosition:N||"",bannerCloseTimeout:L||0},G=Object(l.createStore)(u,Object(l.compose)(function(e){return e}));o.a.render(a.a.createElement(s.Provider,{store:G},a.a.createElement(S,{design:D,title:T,text:M,bannerRotationData:q,userId:A})),E)}},860:function(e,t,n){e.exports={icon:"icon-icon-2HGyI","variant-default":"icon-variant-default-1eXXW",inverted:"icon-inverted-rZRIz","variant-primary":"icon-variant-primary-g8zXj","variant-success":"icon-variant-success-DkHtm","variant-important":"icon-variant-important-1dtlX","variant-danger":"icon-variant-danger-31V9y"}},862:function(e,t,n){e.exports={alert:"alert-alert-ZNQt1",inline:"alert-inline-uZ-jV",content:"alert-content-25Sik",title:"alert-title-2y9sA",cross:"alert-cross-1Jfvu",inverse:"alert-inverse-1iOZm","design-danger":"alert-design-danger-2ZL_S","design-warning":"alert-design-warning-31szd","design-success":"alert-design-success-190LX","design-neutral":"alert-design-neutral-2cn_z"}},867:function(e,t,n){e.exports={loader:"loader-loader-1fjaN",spin:"loader-spin-30q3z",fade:"loader-fade-16UPj",visibility:"loader-visibility-2nQHy"}},869:function(e,t,n){e.exports={button:"button-button-2Fo5k","size-l":"button-size-l-3LVJf","size-m":"button-size-m-7jtw4","size-s":"button-size-s-3-rn6",disabled:"button-disabled-2IR89",error:"button-error-2bdS4",primary:"button-primary-1RhOG",selected:"button-selected-14ncm",default:"button-default-mSfac",newDefault:"button-newDefault-3yhHX",success:"button-success-1Tf-u",noaccent:"button-noaccent-1c4ET",important:"button-important-AuoAo",danger:"button-danger-1nuf3",textBox:"button-textBox-Row9K",loaderBox:"button-loaderBox-2EMKd","stick-after":"button-stick-after-3Mwh1","stick-before":"button-stick-before-1ydHy","stick-above":"button-stick-above-3HW9y","stick-below":"button-stick-below--nhXZ",root:"button-root-1ipaF",root_active:"button-root_active-1TSGT"}},870:function(e,t,n){e.exports={"width-1":"width-width-1-1ibdd","width-2":"width-width-2-23d44","width-3":"width-width-3-oc299","width-4":"width-width-4-3mHav","width-5":"width-width-5-2y0wC","width-6":"width-width-6-2EAEt","width-7":"width-width-7-1weJw","width-8":"width-width-8-1K7y-","width-9":"width-width-9-f0j3i","width-10":"width-width-10-2bOw5","width-11":"width-width-11-2H2kD","width-12":"width-width-12-2VZLz","width-flex-1":"width-width-flex-1-2XY6D","width-flex-2":"width-width-flex-2-gWPB6","width-flex-3":"width-width-flex-3-2jcG8","width-flex-4":"width-width-flex-4-33_J2","width-flex-5":"width-width-flex-5-_2Y1Y","width-flex-6":"width-width-flex-6-2J4AD","width-flex-7":"width-width-flex-7-23G4L","width-flex-8":"width-width-flex-8-1tS-3","width-flex-9":"width-width-flex-9-3E7BL","width-flex-10":"width-width-flex-10-1FsOm","width-flex-11":"width-width-flex-11-eYKq0","width-flex-12":"width-width-flex-12-Xolf5","offset-1":"width-offset-1-3gM2K","offset-2":"width-offset-2-2iI4E","offset-3":"width-offset-3-3G9PB","offset-4":"width-offset-4-1hiWN","offset-5":"width-offset-5-nZQCu","offset-6":"width-offset-6-3D5dy","offset-7":"width-offset-7-HP415","offset-8":"width-offset-8-2yb7G","offset-9":"width-offset-9-20hkO","offset-10":"width-offset-10-1FnUP","offset-11":"width-offset-11-GQWEV"}},876:function(e,t,n){e.exports={text:"text-text-1PdBw","size-xxxl":"text-size-xxxl-3deAN","size-xxl":"text-size-xxl-1Uoae","size-xl":"text-size-xl-K3Rr2","size-l":"text-size-l-2gTpu","size-m":"text-size-m-4mxHN","size-ms":"text-size-ms-23YBR","size-s":"text-size-s-1PUdo","size-xs":"text-size-xs-2BbRF","color-default":"text-color-default-1QVMz","color-noaccent":"text-color-noaccent-bzEdI","color-inverted":"text-color-inverted-1Fmng",bold:"text-bold-3R9dt",italic:"text-italic-3oCoa",strike:"text-strike-gIIPi","align-left":"text-align-left-27YsK","align-center":"text-align-center-CqXb8","align-right":"text-align-right-1SUv8","align-justify":"text-align-justify-2HwXk",truncate:"text-truncate-bk3P4"}}});