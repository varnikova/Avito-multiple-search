(window.webpackJsonp=window.webpackJsonp||[]).push([["da7645e4"],{2161:function(e,t,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){babelHelpers.defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}n.d(t,"a",function(){return o});var o=function(){function t(e){babelHelpers.classCallCheck(this,t),this.state=r({},e)}return babelHelpers.createClass(t,[{key:"get",value:function(e){return void 0===e?r({},this.state):this.state[e]}},{key:"set",value:function(t,e){var n=this,i=!(1<arguments.length&&void 0!==e)||e,r={};return Object.keys(t).forEach(function(e){i&&n.state[e]===t[e]||(r[e]=t[e],n.state[e]=t[e])}),r}}]),t}()},2382:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(2383),o=n(2161);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var r=function(){function r(e){var n=this,t=e.$node,i=e.params;babelHelpers.classCallCheck(this,r),this.state=new o.a({}),this.$node=t,this.emitter=$({}),this.componentNode=this.$node.get(0),i&&(this.sharedState=i.sharedState),this.emitter.on("change",function(e,t){n.render(t,n.getState())})}return babelHelpers.createClass(r,[{key:"publishChanges",value:function(e){Object.keys(e).length&&this.emitter.trigger("change",[e])}},{key:"getState",value:function(){var e;return(e=this.state).get.apply(e,arguments)}},{key:"setState",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t&&t,r={};r=this.state?this.state.set(n):(this.state=new o.a(n),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){babelHelpers.defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n)),!1===i&&this.publishChanges(r)}},{key:"render",value:function(){Object(i.a)(!1,!1)}},{key:"getDataFromDOM",value:function(){return{}}},{key:"removeCssClasses",value:function(e,t){var n=e,i=t;void 0===t&&(n=this.componentNode.classList,i=e);var r=new RegExp("^".concat(i,"[a-zA-Z0-9-]+$"));Array.from(n).filter(function(e){return r.test(e)}).forEach(function(e){return n.remove(e)})}}]),r}()},2383:function(e,t,n){"use strict";t.a=function(e,t){for(var n=arguments.length,i=new Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o;if(!e){if(t){var s=0;o=new Error("Invariant: "+t.replace(/%s/g,function(){var e=i[s];return s+=1,e}))}else o=new Error("Произошла ошибка! Запустите код в development-режиме, чтобы узнать детали");throw o}}},2384:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(2382),r=n(2383),o=[".js-banner-1000x120"],s={attributes:!0,childList:!0},a=function(e){function O(e){var t,n=e.$node,i=e.params;return babelHelpers.classCallCheck(this,O),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(O).call(this,{$node:n,params:i}))).$tooltip=t.$node.tooltip(),t.tooltipContentNode=t.componentNode.querySelector(".js-item-tooltip-content"),t.tooltipArrowNode=t.componentNode.querySelector(".js-item-tooltip-arrow"),t.initData=t.getDataFromDOM(),t.resizeWindowHandler=null,t.scrollWindowHandler=null,t.timerMark=null,t.setState({isShow:t.initData.isShow,position:t.initData.position}),t.attachEvents(),t}return babelHelpers.inherits(O,e),babelHelpers.createClass(O,[{key:"getDataFromDOM",value:function(){return{isShow:this.$node.context.style?!["none",""].includes(this.$node.context.style.display):this.$node.is(":visible"),position:this.$node.data("position")||{}}}},{key:"render",value:function(e,t){var n=this;void 0!==e.isShow&&("function"==typeof this.resizeWindowHandler&&window.removeEventListener("resize",this.resizeWindowHandler),"function"==typeof this.scrollWindowHandler&&window.removeEventListener("resize",this.scrollWindowHandler),e.isShow&&(this.resizeWindowHandler=function(){return n.setPosition(t.position)},this.scrollWindowHandler=function(){return n.setState({isShow:!1})},window.addEventListener("resize",this.resizeWindowHandler),window.addEventListener("scroll",this.scrollWindowHandler),this.componentNode.style.maxWidth=t.maxWidth?"".concat(t.maxWidth,"px"):"auto",this.componentNode.style.width=t.width?"".concat(t.width,"px"):"auto"),this.$tooltip.trigger("toggle.tooltip",e.isShow)),e.content&&(this.tooltipContentNode.innerHTML=e.content),e.position&&this.setPosition(e.position)}},{key:"setPosition",value:function(e){if(void 0===e.relativeNode)return null;var t=e.relativeNode.getBoundingClientRect(),n=t.top,i=t.bottom,r=t.left,o=t.right,s=t.width,a=e.slide,l=e.offset,c=l.left,d=void 0===c?0:c,u=l.top,p=void 0===u?0:u,h=[].concat(e.side),f=babelHelpers.slicedToArray(h,2),b=f[0],m=f[1],v=this.componentNode.getBoundingClientRect(),g=0,y=0,w=0;switch(this.removeCssClasses(this.componentNode.classList,O.cssTooltipSide),b){case"bottom":g=i+p,this.componentNode.classList.add("tooltip_bottom");break;case"top":g=n-parseInt(getComputedStyle(this.componentNode).getPropertyValue("margin-top"),10)-v.height-p,this.componentNode.classList.add("tooltip_top")}if("bottom"===b||"top"===b)switch(m){case"center":y=r-v.width/2+s/2+d,w=v.width/2-d;break;case"right":y=o-v.width+d,w=v.width-s/2-d;break;default:y=r+d,w=s/2-d}var k=Math.round(g+(a?0:window.pageYOffset)),C=Math.round(y+(a?0:window.pageXOffset));return this.componentNode.style.top="".concat(k<0?0:k,"px"),this.componentNode.style.left="".concat(C<0?0:C,"px"),this.tooltipArrowNode&&(this.tooltipArrowNode.style.left="".concat(Math.floor(C<0?w+C:w),"px")),this.componentNode.classList.toggle(O.cssSlideClass,Boolean(a)),null}},{key:"show",value:function(e){var t=this;!0===this.getState().isShow&&this.hide();var n=Object.assign({},{side:"bottom",slide:!1,offset:{}},"string"==typeof e.position?{side:e.position}:e.position);return Object(r.a)(n.relativeNode&&1===n.relativeNode.nodeType,!1),this.setState({isShow:!0,content:e.content||null,position:n,maxWidth:e.maxWidth||null,width:e.width||null}),"number"==typeof e.autoHideTime&&(this.timerMark=setTimeout(function(){t.timerMark=null,t.setState({isShow:!1})},e.autoHideTime)),null}},{key:"hide",value:function(){this.setState({isShow:!1})}},{key:"handleNodeMutation",value:function(e){var a=this;new MutationObserver(function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;"childList"!==s.type&&"attributes"!==s.type||a.setPosition(a.getState().position)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}).observe(e,s)}},{key:"attachEvents",value:function(){var n=this;this.$tooltip.on("hide.tooltip",function(){n.timerMark&&clearTimeout(n.timerMark),n.setState({isShow:!1})}),o.forEach(function(e){var t=document.querySelector(e);t&&n.handleNodeMutation(t)})}}]),O}(i.a);babelHelpers.defineProperty(a,"cssSlideClass","item-tooltip_slide"),babelHelpers.defineProperty(a,"cssTooltipSide","tooltip_")},2385:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function r(e){babelHelpers.classCallCheck(this,r),e.className=[e.className,"item-popup",e.isFlipPopup?"item-popup_type-flip":null].filter(Boolean).join(" ");var t=r.popup(e);if(e.moveDataNode&&1===e.moveDataNode.nodeType&&t.moveData(e.moveDataNode),t.flip=function(){},t.setFrontSide=function(){},e.isFlipPopup){var n=t.$contentWrapper.get(0),i=n.querySelectorAll(".js-item-popup-close");Array.from(i).forEach(function(e){e.addEventListener("click",function(){t.hide()})}),t.flipCardNode=n.querySelector(".js-item-popup-flip-card"),t.flip=this.flip,t.setFrontSide=this.setFrontSide,t.isFlip=!1}return $.mediator.on("popup:hide",function(){t.hide(!0)}),t}return babelHelpers.createClass(r,[{key:"flip",value:function(){this.flipCardNode&&(this.isFlip=!this.isFlip,this.flipCardNode.classList.toggle("item-popup-flip-card_side-back",this.isFlip))}},{key:"setFrontSide",value:function(){this.flipCardNode&&(this.isFlip=!1,this.flipCardNode.classList.remove("item-popup-flip-card_side-back"))}}]),r}();babelHelpers.defineProperty(i,"popup",$.popup)},2390:function(e,t,n){"use strict";t.a={OPEN_CHANNEL:"openChannelFromMiniMsg",VERIFY_PHONE:"verifyPhoneFromMiniMsg"}},2391:function(e,t,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function r(e,t,n){return fetch("/k8s/events/put",{method:"post",credentials:"include",body:JSON.stringify(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){babelHelpers.defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({eid:t,version:0,src_id:e},n))})}n.d(t,"b",function(){return l});var l=function(e,t){return r(96,e,1<arguments.length&&void 0!==t?t:{})};t.a={messengerEnter:function(e){return l(3184,{s:e})},jobWriteClick:function(e){var t=e.itemId,n=e.userId;return l(2667,{uid:n,iid:t,version:1})},pushSubscriptionShow:function(e){return l(2955,{uid:e})},pushSubscriptionHide:function(e){return l(2956,{uid:e})},pushSubscribeAttempt:function(e,t){return l(2957,{uid:e,subscribe:t})},messageWriteClick:function(e){var t=e.itemId,n=e.categoryId,i=e.wsrc,r=e.isOasis,o=e.stateId,s=e.fromBlock,a=e.userId;return l(2654,{iid:t,cid:n,uid:a,wsrc:i,is_oasis:r,parentstate_id:o,from_block:s,version:8})},unauthChannelEnterAttempt:function(e,t){return l(2488,{iid:e,is_oasis:t,version:1})},onboardingButtonClick:function(e){var t=e.userId,n=e.itemId,i=e.categoryId;return l(3406,{uid:t,cid:i,iid:n,version:1})}}},6071:function(e,t,n){"use strict";var i=n(35),m=n.n(i),r=n(38),a=n.n(r),o=n(45),s=n(497),v=n.n(s),l=n(2390),h=n(2391),u=111,d=112,c=n(2392),p=n(6055),f=new(function(){function e(){babelHelpers.classCallCheck(this,e)}var n;return babelHelpers.createClass(e,[{key:"request",value:(n=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var i,r,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(avito.httpfallback,{method:"post",credentials:"include",body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:t,params:n})});case 2:if(200!==(i=e.sent).status)throw i;e.next=5;break;case 5:return e.next=7,i.json();case 7:if(r=e.sent,o=r.result,s=r.error)throw s;e.next=12;break;case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"createChat",value:function(e){return this.request("avito.chatCreateByItemId.v1",{itemId:e})}}]),e}()),b=n(916),g=n(865),y=n(875),w=n(820);Object(w.a)({name:"messenger-icon",originalWidth:16,originalHeight:15,svg:m.a.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#19A8FD",strokeWidth:1.6,d:"M5.67675,12.8365 C5.174,13.5431042 4.38725,14 3.5,14 C3.23175,14 2.973,13.9563958 2.72775,13.8786667 C3.2715,13.4022708 3.64425,12.7065 3.7305,11.915125 C2.0725,10.8009167 1,9.058375 1,7.09375 C1,3.728375 4.134,1 8,1 C11.866,1 15,3.728375 15,7.09375 C15,10.459125 11.866,13.1875 8,13.1875 C7.18425,13.1875 6.40475,13.0596667 5.67675,12.8365 Z"})});var k=n(2398),C=n.n(k),O=function(e){function r(){var e,c;babelHelpers.classCallCheck(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return c=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(r)).call.apply(e,[this].concat(n))),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"state",{isFetching:!1}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"handleButtonClick",function(){var e=c.props.itemId,t=c.state.isFetching,n=babelHelpers.assertThisInitialized(c).isJobHref;t||(c.logClick(),n?c.handleJobClick():c.openChannel(e))}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"handleLinkClick",function(){var e=c.props,t=e.side,n=e.experiments.isGalleryTest;c.logClick(),n&&["header","corner","right"].includes(t)&&window.dispatchEvent(new Event("extended-gallery:close"))}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"handleOnboardingClick",function(){var e=c.props,t=e.logParams.userId,n=e.categoryId,i=e.itemId;h.a.onboardingButtonClick({userId:t,categoryId:n,itemId:i})}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"handleJobClick",function(){var e=c.props,t=e.categoryId,n=e.onResumeClick,i=void 0===n?function(){}:n,r=e.onVacancyClick,o=void 0===r?function(){}:r,s=e.itemId,a=e.itemCVViewed,l={itemId:s,clickNode:c.node,itemCVViewed:a};t===u?o(c.openChannel,l):t===d&&i(c.openChannel,l)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"openChannel",function(e){c.props.isMiniMessenger?c.openChannelFromMini(e):c.gotoChannel(e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"gotoChannel",function(){var t=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,i,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.props.location,e.prev=1,c.setState({isFetching:!0}),e.next=5,f.createChat(t);case 5:i=e.sent,r=i.channelId,n.href="/profile/messenger/channel/".concat(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),-32060===e.t0.code?n.href="/profile/messenger?create_chat=".concat(t):401===e.t0.status&&(o=c.getWriteInUrl(),n.href=c.getLoginUrl(o)),c.setState({isFetching:!1});case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"openChannelFromMini",function(){var t=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,i,r,o,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.props.location,e.prev=1,c.setState({isFetching:!0}),e.next=5,f.createChat(t);case 5:i=e.sent,r=i.channelId,o=new CustomEvent(l.a.OPEN_CHANNEL,{detail:{channelId:r}}),document.dispatchEvent(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),-32060===e.t0.code?(s=new CustomEvent(l.a.VERIFY_PHONE,{detail:{itemId:t}}),document.dispatchEvent(s)):401===e.t0.status&&(a=c.getWriteInUrl(),n.href=c.getLoginUrl(a));case 14:c.setState({isFetching:!1});case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"node",null),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(c),"logUnauthWriteMessage",function(){var n=null;return function(e,t){n||(h.a.unauthChannelEnterAttempt(e,t),n=setTimeout(function(){n=null},1e3))}}()),c}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAuthorized,n=e.location,i=e.categoryId,r=e.history,o=this.isJobHref,s=Object(p.g)(n.search.slice(1)),a=-1!==Object.keys(s).indexOf("writein"),l=a?Number(s.writein):this.props.itemId;if(a&&t&&l){delete s.writein;var c=Object(p.d)(s),d=n.pathname+(c?"?"+c:"")+n.hash;r.replaceState(r.state,document.title,d),i===u&&this.handleJobClick(),o||this.openChannel(l)}}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.isAuthorized,r=n.isOpenInNewTab,o=n.className,s=n.isFullWidth,a=n.isIconButton,l=this.state.isFetching,c=this.isCardButton,d=this.isOnboarding,u=v()(C.a.root,o,(e={},babelHelpers.defineProperty(e,C.a.root_loading,l),babelHelpers.defineProperty(e,C.a.root_fullwidth,s),e)),p=!i||r,h={size:c?"l":"s",design:d?"primary":"default",width:s?12:void 0,disabled:l},f=p?this.renderLinkButton(h):this.renderButton(h),b=this.renderIconButton(p);return m.a.createElement("div",{className:u,ref:function(e){return t.node=e}},this.renderOnboarding(),a?b:f)}},{key:"renderIconButton",value:function(e){var t=this.props.isOpenInNewTab,n=e?"a":"span";return m.a.createElement(n,{className:C.a.iconButton,"data-marker":e?"messenger-button/icon-link":"messenger-button/icon",href:e?this.getHref():void 0,target:t?"_blank":void 0,onClick:e?this.handleLinkClick:this.handleButtonClick},m.a.createElement(w.b,{name:"messenger-icon",className:C.a.svg}))}},{key:"renderLinkButton",value:function(e){var t=e.size,n=e.design,i=e.disabled,r=e.width,o=this.props.isOpenInNewTab;return m.a.createElement(b.a,{marker:"messenger-button/link",size:t,design:n,width:r,disabled:i,href:this.getHref(),onClick:this.handleLinkClick,target:o?"_blank":"_self"},this.renderButtonText())}},{key:"renderButton",value:function(e){var t=e.size,n=e.design,i=e.disabled,r=e.width;return m.a.createElement(g.a,{marker:"messenger-button/button",size:t,design:n,width:r,disabled:i,onClick:this.handleButtonClick},this.renderButtonText())}},{key:"renderButtonText",value:function(){var e,t=this.props,n=t.replyTime,i=t.sellerIdHash,r=t.buttonText,o=this.isCardButton,s=this.isOnboarding,a=v()((e={},babelHelpers.defineProperty(e,C.a.cardButtonText,o),babelHelpers.defineProperty(e,C.a.cardButtonText_blueButton,s),e));return m.a.createElement("div",{className:a},r,o&&m.a.createElement(y.a,{tagName:"div"},m.a.createElement(c.a,{isInvertedColor:s,userIdHash:i,offlineText:n})))}},{key:"renderOnboarding",value:function(){return this.isOnboarding?m.a.createElement("div",{className:C.a.onboardingButton,onClick:this.handleOnboardingClick},m.a.createElement(y.a,{size:"l",tagName:"div"},m.a.createElement("span",{className:C.a.onboardingButtonText},"Без звонков")),m.a.createElement(y.a,{tagName:"div"},m.a.createElement("span",{className:C.a.onboardingHintText},"Пользователь предпочитает сообщения"))):null}},{key:"logClick",value:function(){var e=this.props,t=e.categoryId,n=e.isAuthorized,i=e.itemId,r=e.logParams,o=r.wsrc,s=r.stateId,a=r.isFromOasis,l=r.userId,c=Boolean(a),d=this.fromBlock,u=this.isJobHref,p=l||void 0;n||this.logUnauthWriteMessage(i,c),u&&h.a.jobWriteClick({itemId:i,userId:p}),h.a.messageWriteClick({itemId:i,categoryId:t,isOasis:c,wsrc:o,stateId:s,fromBlock:d,userId:p})}},{key:"getHref",value:function(){var e=this.props.isAuthorized,t=this.getWriteInUrl();return e?t:this.getLoginUrl(t)}},{key:"getLoginUrl",value:function(e){var t=this.props,n=t.logParams.s,i=t.itemUrl,r=t.isAuthorized,o=t.isOpenInNewTab?i:"";return r?"/profile/login?next=".concat(e):"".concat(o,"#login?next=").concat(encodeURIComponent(e),"&s=").concat(n)}},{key:"getWriteInUrl",value:function(){var e=this.props,t=e.itemUrl,n=e.isOpenInNewTab,i=e.itemId,r=e.isMiniMessenger,o=t.split("?")[1];return r&&!n?"?".concat(o?o+"&":"","writein=").concat(i):"".concat(t).concat(o?"&":"?","writein=").concat(i)}},{key:"isCardButton",get:function(){var e=this.props.side;return["card","right"].includes(e)}},{key:"isJobHref",get:function(){var e=this.props.categoryId;return[u,d].includes(e)}},{key:"isOnboarding",get:function(){var e=this.props.hasHidePhoneOnboarding;return this.isCardButton&&e}},{key:"fromBlock",get:function(){var e=this.props,t=e.side,n=e.experiments.isGalleryTest,i=e.location,r=10;switch(t){case"card":r=0;break;case"header":r=n&&i.href.includes("#extended")?3:1;break;case"right":case"corner":r=3;break;default:r=10}return r}}]),r}(i.Component);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(n,!0).forEach(function(e){babelHelpers.defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}babelHelpers.defineProperty(O,"propTypes",{className:o.string,isOpenInNewTab:o.bool,isAuthorized:o.bool,isFullWidth:o.bool,isMiniMessenger:o.bool,isIconButton:o.bool,hasHidePhoneOnboarding:o.bool,sellerIdHash:o.string,itemId:o.number.isRequired,itemUrl:o.string.isRequired,itemCVViewed:o.bool.isRequired,categoryId:o.number.isRequired,buttonText:o.string,replyTime:o.string,side:o.string,location:o.object.isRequired,history:o.object.isRequired,onVacancyClick:o.func,onResumeClick:o.func,logParams:Object(o.shape)({wsrc:o.string,stateId:o.string,s:o.string,isFromOasis:o.bool,userId:o.number}).isRequired,experiments:Object(o.shape)({isGalleryTest:o.bool}).isRequired}),n.d(t,"a",function(){return E});var I=".js-messenger-button";function P(e){var t=0<arguments.length&&void 0!==e?e:{},i=t.onResumeClick,r=t.onVacancyClick,o=window.avito&&window.avito.item&&window.avito.item.stateId?window.avito.item.stateId:"",s=Boolean((window.avito&&window.avito.item||{}).stickyHeaderExposure);Array.from(document.querySelectorAll(I)).forEach(function(e){try{var t=JSON.parse(e.dataset.props),n=H({},t,{logParams:H({},t.logParams,{stateId:o}),experiments:H({},t.experiments,{isGalleryTest:s}),location:window.location,history:window.history,onResumeClick:i,onVacancyClick:r});delete e.dataset.props,a.a.render(m.a.createElement(O,n),e)}catch(e){}})}function E(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){return P(e)}):P(e),document.addEventListener("single-page:updateCatalog",function(){return P(e)})}},6169:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){babelHelpers.classCallCheck(this,e),this.itemAddNoteButtonNode=document.querySelector(".js-item-add-note-button"),this.itemNoteContainerNodes=Array.from(document.querySelectorAll(".js-item-view-notes")),this.itemNoteDeferredContainerNodes=Array.from(document.querySelectorAll(".js-item-view-notes-deferred")),this.addNoteHeaderNode=document.querySelector(".js-add-note-header"),this.activateNoteInputEvent=new CustomEvent("activateNoteInput"),this.scrollToNode=document.querySelector(".js-breadcrumbs-link"),this.attachEvents()}return babelHelpers.createClass(e,[{key:"attachEvents",value:function(){var t=this;this.itemAddNoteButtonNode&&(this.itemAddNoteButtonNode.classList.contains("js-item-tooltip-trigger")?(avito.tracking.trackGTMEvent("noteButton","show","not_authorized","value"),this.itemAddNoteButtonNode.addEventListener("click",function(){avito.tracking.trackGTMEvent("noteButton","click","not_authorized","value")})):avito.tracking.trackGTMEvent("noteButton","show","authorized","value"),this.itemAddNoteButtonNode.addEventListener("switchAddNoteButton",function(e){t.itemAddNoteButtonNode.classList.toggle("hidden",!e.detail.isVisible)}));this.itemNoteContainerNodes.forEach(function(t){t.addEventListener("switchNotesContainer",function(e){t.classList.toggle("hidden",!e.detail.isVisible)})}),this.itemNoteDeferredContainerNodes.forEach(function(t){t.addEventListener("switchNotesContainer",function(e){t.classList.toggle("hidden",!e.detail.isVisible)})}),this.addNoteHeaderNode&&this.scrollToNode&&this.addNoteHeaderNode.addEventListener("click",function(){!function(e){var t=e.node.getBoundingClientRect();window.scrollTo({behavior:"smooth",top:t.top+window.pageYOffset-10,left:0})}({node:t.scrollToNode}),setTimeout(function(){t.itemAddNoteButtonNode.dispatchEvent(t.activateNoteInputEvent)},450)})}}]),e}()}}]);