(window.webpackJsonp=window.webpackJsonp||[]).push([["4d6c8f22"],{236:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},2373:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u});var o=n(454),i=n(473);function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object(i.b)();if(r&&r[e])return r[e].apply(r,o.__spread(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function s(e){var t;try{throw new Error("Sentry syntheticException")}catch(e){t=e}return r("captureException",e,{originalException:e,syntheticException:t})}function a(e,t){var n;try{throw new Error(e)}catch(e){n=e}return r("captureMessage",e,t,{originalException:e,syntheticException:n})}function c(e){r("configureScope",e)}function u(e){r("withScope",e)}},2375:function(e,i,t){(function(e){var t,n,r,o;window,o=function(){return r={},o.m=n={"./node_modules/@avito/utils/node_modules/uuid/lib/bytesToUuid.js":
/*!************************************************************************!*\
        !*** ./node_modules/@avito/utils/node_modules/uuid/lib/bytesToUuid.js ***!
        \************************************************************************/
/*! no static exports found */
function(e,t){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=o;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},"./node_modules/@avito/utils/node_modules/uuid/lib/rng-browser.js":
/*!************************************************************************!*\
        !*** ./node_modules/@avito/utils/node_modules/uuid/lib/rng-browser.js ***!
        \************************************************************************/
/*! no static exports found */
function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},"./node_modules/@avito/utils/node_modules/uuid/v4.js":
/*!***********************************************************!*\
        !*** ./node_modules/@avito/utils/node_modules/uuid/v4.js ***!
        \***********************************************************/
/*! no static exports found */
function(e,t,n){var s=n(
/*! ./lib/rng */
"./node_modules/@avito/utils/node_modules/uuid/lib/rng-browser.js"),a=n(
/*! ./lib/bytesToUuid */
"./node_modules/@avito/utils/node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||a(o)}},"./node_modules/@avito/utils/src/helpers/send-click-stream-event/send-click-stream-event.js":
/*!**************************************************************************************************!*\
        !*** ./node_modules/@avito/utils/src/helpers/send-click-stream-event/send-click-stream-event.js ***!
        \**************************************************************************************************/
/*! exports provided: default */
function(e,t,n){"use strict";n.r(t);var r,o,i=n(
/*! uuid/v4 */
"./node_modules/@avito/utils/node_modules/uuid/v4.js"),s=n.n(i);if("undefined"==typeof window)r=function(){return new Promise(function(e){return e({})})};else{var a="last-ref-id",c=window.location.origin;window.performance&&window.performance.navigation&&1===window.performance.navigation.type||(o=c,window.document.referrer&&window.document.referrer.startsWith(o))||window.localStorage.removeItem(a),window.sessionStorage.tabId=window.sessionStorage.tabId||s()();var u=window.sessionStorage.tabId,l=function(){var e=window.localStorage.getItem(a),t=s()();return window.localStorage.setItem(a,t),{refId:t,parentRefId:e,tabId:u}};r=function(e,t){var n=1<arguments.length&&void 0!==t?t:"/events/add";for(var r in e)e.hasOwnProperty(r)&&null===e[r]&&(e[r]=void 0);var o=l(),i=o.refId,s=o.parentRefId,a=o.tabId;return e.ref_id=i||"",e.parent_ref_id=s||"",e.tab_id=a||"",fetch(n,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)}).then(function(e){return 400<=e.status?Promise.reject(e):{response:e,refId:i,parentRefId:s,tabId:a}})}}t.default=r},"./node_modules/events/events.js":
/*!***************************************!*\
        !*** ./node_modules/events/events.js ***!
        \***************************************/
/*! no static exports found */
function(e,t,n){"use strict";var r,o="object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))?Reflect:null,l=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}((e.exports=s).EventEmitter=s).prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+babelHelpers.typeof(n));if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),0<(o=c(e))&&s.length>o&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,l(this.listener,this.target,e))}.bind(r);return o.listener=n,r.wrapFn=o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(0<t.length&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)l(a,this,t);else{var c=a.length,u=v(a,c);for(n=0;n<c;++n)l(u[n],this,t)}return!0},s.prototype.on=s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+babelHelpers.typeof(t));return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+babelHelpers.typeof(t));return this.prependListener(e,d(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var n,r,o,i,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+babelHelpers.typeof(t));if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;0<=i;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},"./src/index.ts":
/*!**********************!*\
        !*** ./src/index.ts ***!
        \**********************/
/*! no static exports found */
function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(t,n){function r(e){try{i(c.next(e))}catch(e){n(e)}}function o(e){try{i(c.throw(e))}catch(e){n(e)}}function i(e){e.done?t(e.value):function(t){return t instanceof a?t:new a(function(e){e(t)})}(e.value).then(r,o)}i((c=c.apply(e,s||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(
/*! ./lib/rmp/selling-systems */
"./src/lib/rmp/selling-systems.ts"),s=n(
/*! ./lib/waterfall/nets */
"./src/lib/waterfall/nets.ts"),c=n(
/*! ./lib/waterfall/processing */
"./src/lib/waterfall/processing.ts"),u=n(
/*! ./lib/logs/logger */
"./src/lib/logs/logger.ts"),l=n(
/*! ./lib/banner/dfp/dfp-targetings */
"./src/lib/banner/dfp/dfp-targetings.ts"),d=n(
/*! ./lib/dom/dom */
"./src/lib/dom/dom.ts"),r=n(
/*! events */
"./node_modules/events/events.js");(a=t.WaterfallEvent||(t.WaterfallEvent={})).RENDER="render";var f=function(e){function r(e,t){var n;return babelHelpers.classCallCheck(this,r),n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this)),c.assertOptions(t),n.positions=c.preparePositions(e),n.nets=s.initNets(n.positions),n.logger=new u.Logger(t),l.setCommonDfpTargetings(n.nets[i.SellingSystems.DFP],t.commonDfpTargetings),n}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(i,s){return o(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.positions[i]){e.next=4;break}return this.logger.positionNotExist(i),e.abrupt("return",Promise.reject(this.getLogs()));case 4:n=0;case 5:if(n<t.length)return(r=t[n]).setIndex(n),e.next=10,c.prepareContainer(i,s);e.next=39;break;case 10:if(o=e.sent){e.next=14;break}return this.logger.containerNotExist(r),e.abrupt("break",39);case 14:return e.next=16,this.nets[r.sellingSystem];case 16:if(e.sent){e.next=20;break}return this.logger.apiNotReady(r),e.abrupt("continue",36);case 20:return e.prev=20,c.setContainerId(o,r),this.logger.request(r),e.next=25,r.render(o);case 25:return this.logger.addClickListener(r,o),this.logger.addViewObserver(r,o),this.logger.success(r),this.emit(a.RENDER,i,o),e.abrupt("return",Promise.resolve(this.getLogs()));case 32:e.prev=32,e.t0=e.catch(20),this.logger.reject(r,t.length,e.t0),d.removeElement(o);case 36:n++,e.next=5;break;case 39:return this.logger.fullyReject(i),e.abrupt("return",Promise.reject(this.getLogs()));case 41:case"end":return e.stop()}},e,this,[[20,32]])}))}},{key:"renderAll",value:function(){var n=this,e=Object.keys(this.positions).map(function(t){return new Promise(function(e){n.render(t).then(e).catch(e)})});return Promise.all(e).then(function(){return n.getLogs()})}},{key:"removePosition",value:function(e){this.positions[e].forEach(function(e){return e.remove()})}},{key:"getLogs",value:function(){return this.logger.logs}},{key:"getPublicInfo",value:function(){return{positions:this.positions,logs:this.getLogs(),nets:this.nets}}}]),r}(r.EventEmitter);t.Waterfall=f},"./src/lib/analytics/adstat/adstat.ts":
/*!********************************************!*\
        !*** ./src/lib/analytics/adstat/adstat.ts ***!
        \********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(
/*! ../../rmp/selling-systems */
"./src/lib/rmp/selling-systems.ts"),i=n(
/*! ./request */
"./src/lib/analytics/adstat/request.ts");t.AdStat={logRequest:function(e,t){if(e.props.log_id){var n=0===e.index,r=encodeURIComponent(["".concat(function(e){return e.sellingSystem===o.SellingSystems.DFP?"asp":"as"}(e),":").concat(e.props.log_id),"e:".concat(t),"i:".concat(n?0:1),"ir:1"].join(";"));i.sendLogRequest(r)}}}},"./src/lib/analytics/adstat/request.ts":
/*!*********************************************!*\
        !*** ./src/lib/analytics/adstat/request.ts ***!
        \*********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sendLogRequest=function(e){(new Image).src="".concat("//www.avito.ru/stat/ad","?k=").concat(e,"&r=").concat(Math.random())}},"./src/lib/analytics/clicks.ts":
/*!*************************************!*\
        !*** ./src/lib/analytics/clicks.ts ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){if(0<s.querySelectAllFrom("iframe",e).length)a(e,t);else{var n=s.querySelectAllFrom("*",e),r=function(e){return e.removeEventListener("click",o)},o=function(){t(),n.forEach(r)};n.forEach(function(e){return e.addEventListener("click",o)})}}function o(t,n){t.addEventListener("click",function e(){n(),t.removeEventListener("click",e)})}var i=n(
/*! ../rmp/selling-systems */
"./src/lib/rmp/selling-systems.ts"),s=n(
/*! ../dom/dom */
"./src/lib/dom/dom.ts"),a=function(t,n){var r=-1/0,o=function(){r=setInterval(function(){var e=document.activeElement;e&&"IFRAME"!==e.tagName||(n(),clearInterval(r),t.removeEventListener("mouseenter",o),t.removeEventListener("mouseleave",i))},100)},i=function(){clearInterval(r)};t.addEventListener("mouseenter",o),t.addEventListener("mouseleave",i)};t.getClickHandler=function(e){switch(e){case i.SellingSystems.ADFOX:case i.SellingSystems.YANDEX:return r;case i.SellingSystems.CRITEO:case i.SellingSystems.DFP:case i.SellingSystems.AFS:return a;case i.SellingSystems.MY_TARGET:default:return o}}},"./src/lib/analytics/clickstream.ts":
/*!******************************************!*\
        !*** ./src/lib/analytics/clickstream.ts ***!
        \******************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=n(
/*! @avito/utils/src/helpers/send-click-stream-event/send-click-stream-event */
"./node_modules/@avito/utils/src/helpers/send-click-stream-event/send-click-stream-event.js"),s=n(
/*! ../functions/functions */
"./src/lib/functions/functions.ts");(r=o=o||{})[r.CLICK_3215=3215]="CLICK_3215",r[r.REQUEST_3967=3967]="REQUEST_3967",r[r.PASSBACK_3969=3969]="PASSBACK_3969",r[r.FAIL_3250=3250]="FAIL_3250",r[r.RENDER_3970=3970]="RENDER_3970",r[r.VIEW_3968=3968]="VIEW_3968",t.ClickStream={logBannerClick:function(e,t,n){var r={eid:o.CLICK_3215,version:14,banner_code:e.code,cdtm:s.getCdtm(),alid:e.props.alid,adslot:e.props.log_id,pagetype:t,rcid:n};i.default(r).catch(s.noop)},logAdRequest:function(e){var t={eid:o.REQUEST_3967,version:2,banner_code:e.code,cdtm:s.getCdtm(),adslot:e.props.log_id,req_num:e.index+1,alid:e.props.alid};i.default(t).catch(s.noop)},logAdPassback:function(e){var t={eid:o.PASSBACK_3969,version:0,banner_code:e.code,cdtm:s.getCdtm(),adslot:e.props.log_id,req_num:e.index+1,alid:e.props.alid};i.default(t).catch(s.noop)},logAdFail:function(e,t){var n={eid:o.FAIL_3250,version:12,banner_code:e.code,cdtm:s.getCdtm(),req_num:e.index+1,ad_error:t};i.default(n).catch(s.noop)},logNoPositionFailed:function(e,t){var n={eid:o.FAIL_3250,version:12,banner_code:e,cdtm:s.getCdtm(),req_num:0,ad_error:t};i.default(n).catch(s.noop)},logAdRender:function(e){var t={eid:o.RENDER_3970,adslot:e.props.log_id,version:0,alid:e.props.alid,cdtm:s.getCdtm(),banner_code:e.code,req_num:e.index+1};i.default(t).catch(s.noop)},logAdView:function(e){var t={eid:o.VIEW_3968,version:0,banner_code:e.code,cdtm:s.getCdtm(),alid:e.props.alid,adslot:e.props.log_id};i.default(t).catch(s.noop)}}},"./src/lib/banner/adfox.ts":
/*!*********************************!*\
        !*** ./src/lib/banner/adfox.ts ***!
        \*********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,r,o=n(
/*! ./banner */
"./src/lib/banner/banner.ts");(r=f=f||{}).BY_ERROR="BY_ERROR",r.BY_STUB="BY_STUB";var i=function(e){function r(e,t){var n;return babelHelpers.classCallCheck(this,r),(n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e,t))).props=t.parameters,n}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(e){var l=this;this.renderCount++;var d=e.id;return new Promise(function(e,t){var n=l.props,r=n.params,o=n.block_id,i=o?o.replace("8_","").split("-"):[null,null],s=babelHelpers.slicedToArray(i,2),a=s[0],c=s[1];Object.assign(r||{},{p1:a,p2:c});var u={async:!0,ownerId:245183,containerId:d,params:r,onError:function(){return t(l.createErrorMessage(f.BY_ERROR))},onStub:function(){return t(l.createErrorMessage(f.BY_STUB))},onRender:function(){e()}};window.Ya.adfoxCode.create(u)})}}]),r}(o.Banner);t.AdFoxBanner=i},"./src/lib/banner/afs.ts":
/*!*******************************!*\
        !*** ./src/lib/banner/afs.ts ***!
        \*******************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d,r,o=n(
/*! ./banner */
"./src/lib/banner/banner.ts");(r=d=d||{}).EMPTY_QUERY="EMPTY_QUERY",r.EMPTY_WIDTH="EMPTY_WIDTH",r.EMPTY_HEIGHT="EMPTY_HEIGHT",r.UNIT_REJECTED="UNIT_REJECTED";var i=function(e){function r(e,t){var n;return babelHelpers.classCallCheck(this,r),(n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e,t))).props=t.parameters,n}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(u){var l=this;return this.renderCount++,new Promise(function(n,r){var e=l.props,t=e.width,o=e.height,i=e.query;if(i)if(t)if(o){var s=window._googCsa,a={pubId:"partner-vert-pla-avito-srp",query:i,adtest:"on"},c={container:u.id,width:t,height:o,adLoadedCallback:function(e,t){t?n():r(l.createErrorMessage(d.UNIT_REJECTED))}};try{s("plas",a,c)}catch(e){r(l.createErrorMessage(e))}}else r(l.createErrorMessage(d.EMPTY_HEIGHT));else r(l.createErrorMessage(d.EMPTY_WIDTH));else r(l.createErrorMessage(d.EMPTY_QUERY))})}}]),r}(o.Banner);t.AFSBanner=i},"./src/lib/banner/banner.ts":
/*!**********************************!*\
        !*** ./src/lib/banner/banner.ts ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(e,t){babelHelpers.classCallCheck(this,n),this.code=e,this.sellingSystem=t.sellingSystem,this.props=t.parameters||{},this.renderCount=0,this.index=0}return babelHelpers.createClass(n,[{key:"render",value:function(e){var t=this.createErrorMessage("Unknown selling system");return Promise.reject(t)}},{key:"createErrorMessage",value:function(e){return"".concat(this.sellingSystem," banner was rejected by reason: ").concat(e)}},{key:"setIndex",value:function(e){this.index=e}},{key:"getBlockId",value:function(){return this.props.block_id||"no-block-id"}},{key:"remove",value:function(){}}]),n}();t.Banner=r},"./src/lib/banner/criteo.ts":
/*!**********************************!*\
        !*** ./src/lib/banner/criteo.ts ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,r,o=n(
/*! ./banner */
"./src/lib/banner/banner.ts"),p=n(
/*! ../dom/dom */
"./src/lib/dom/dom.ts");(r=f=f||{}).NOT_ADBLOCKED="NOT_ADBLOCKED",r.REQUEST_FAILED="REQUEST_FAILED",r.PASSBACK_INVOKED="PASSBACK_INVOKED",r.ABP_SLOT_ISNT_EXISTS="ABP_SLOT_ISNT_EXISTS";var i=function(e){function r(e,t){var n;return babelHelpers.classCallCheck(this,r),(n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e,t))).props=t.parameters,n}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(u){var l=this;this.renderCount++;var d=u.id;return new Promise(function(e,n){var r=window.Criteo,o=u||document.getElementById(d);if(o){var t=l.props,i=t.zoneid,s=t.overrideZoneFloor,a=t.width,c=t.height;r.events.push(function(){r.DisplayAcceptableAdIfAdblocked({zoneid:i,containerId:d,overrideZoneFloor:s,collapseContainerIfNotAdblocked:!1,callIfNotAdBlocked:function(){p.clearElement(o),n(l.createErrorMessage(f.NOT_ADBLOCKED))},callbacksuccess:function(){e()},callbackerror:function(){p.clearElement(o),n(l.createErrorMessage(f.REQUEST_FAILED))}}),o.style.width="".concat(a,"px"),o.style.height="".concat(c,"px");var t="criteo-adblock-passback-".concat(i);window.addEventListener("message",function(e){if(e.data&&e.data===t)return p.clearElement(o),void n(l.createErrorMessage(f.PASSBACK_INVOKED))},!1)})}else n(l.createErrorMessage(f.ABP_SLOT_ISNT_EXISTS))})}},{key:"getBlockId",value:function(){return this.props.zoneid.toString()}}]),r}(o.Banner);t.CriteoBanner=i},"./src/lib/banner/dfp/dfp-targetings.ts":
/*!**********************************************!*\
        !*** ./src/lib/banner/dfp/dfp-targetings.ts ***!
        \**********************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(t,n){function r(e){try{i(c.next(e))}catch(e){n(e)}}function o(e){try{i(c.throw(e))}catch(e){n(e)}}function i(e){e.done?t(e.value):function(t){return t instanceof a?t:new a(function(e){e(t)})}(e.value).then(r,o)}i((c=c.apply(e,s||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var r=["google_adexchange_pf","yandex_rtb_low_block_id","yandex_rtb_low_rate","yandex_rtb_low_stat_id","yandex_rtb_mid_block_id","yandex_rtb_mid_rate","yandex_rtb_mid_stat_id","my_target_id","my_target_rate"];t.setCommonDfpTargetings=function(r,o){return i(void 0,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r;case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:t=window,n=t.googletag,Object.keys(o).forEach(function(e){var t=o[e];t&&!Array.isArray(t)&&(t=String(t)),t&&n.pubads().setTargeting(e,t)});case 9:case"end":return e.stop()}},e)}))},t.getDfpPassbackTargetigns=function(n){return r.reduce(function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e},{})}},"./src/lib/banner/dfp/dfp.ts":
/*!***********************************!*\
        !*** ./src/lib/banner/dfp/dfp.ts ***!
        \***********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d,r=n(
/*! ../banner */
"./src/lib/banner/banner.ts"),f=n(
/*! ./dfp-targetings */
"./src/lib/banner/dfp/dfp-targetings.ts");(d=d||{}).SLOT_IS_EMPTY="SLOT_IS_EMPTY";var o=function(e){function r(e,t){var n;return babelHelpers.classCallCheck(this,r),(n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e,t))).props=t.parameters,n}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(e){var u=this;this.renderCount++;var l=e.id;return new Promise(function(s,a){var c=window.googletag;c.cmd.push(function(){var e=c.pubads(),t=u.props,n=t.dfp_slot,r=t.sizes;u.slot=c.defineSlot(n,r,l).addService(e);var o=u.props.targetings,i=void 0===o?{}:o;Object.assign(i,f.getDfpPassbackTargetigns(u.props)),function(t,n){Object.keys(t).forEach(function(e){return n.setTargeting(e,t[e])})}(i,u.slot),c.enableServices(),c.display(l),e.addEventListener("slotRenderEnded",function(e){if(e.slot===u.slot)return e.isEmpty?(a(u.createErrorMessage(d.SLOT_IS_EMPTY)),void c.destroySlots([u.slot])):void s()})})})}},{key:"getBlockId",value:function(){return this.props.dfp_slot}},{key:"remove",value:function(){googletag.destroySlots([this.slot])}}]),r}(r.Banner);t.DFPBanner=o},"./src/lib/banner/mytarget.ts":
/*!************************************!*\
        !*** ./src/lib/banner/mytarget.ts ***!
        \************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(
/*! ./banner */
"./src/lib/banner/banner.ts");(o=o||{}).BY_NO_ADS="BY_NO_ADS";var i=function(e){function r(e,t){var n;return babelHelpers.classCallCheck(this,r),(n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e,t))).props=t.parameters,n}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(n){var r=this;return this.renderCount++,new Promise(function(e,t){n.dataset.adClient="ad-".concat(r.props.ad_slot),n.dataset.adSlot=r.props.ad_slot,window.MRGtag.push({onAdsSuccess:function(){e()},onNoAds:function(){t(r.createErrorMessage(o.BY_NO_ADS))},singleRequest:!1,element:n,preventAutoLoad:!0})})}}]),r}(r.Banner);t.MyTargetBanner=i},"./src/lib/banner/yandex.ts":
/*!**********************************!*\
        !*** ./src/lib/banner/yandex.ts ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d,r=n(
/*! ./banner */
"./src/lib/banner/banner.ts");(d=d||{}).RENDER_FAILED="RENDER_FAILED";var o=function(e){function r(e,t){var n;return babelHelpers.classCallCheck(this,r),(n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e,t))).props=t.parameters,n}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(e){var u=this;this.renderCount++;var l=e.id;return new Promise(function(e,t){var n=u.props,r=n.block_id,o=n.stat_id,i=n.hasSearchText,s=n.searchText,a={blockId:r,renderTo:l,statId:parseInt(o,10),async:!0,pageNumber:u.renderCount,onRender:function(){e()}};i&&(a.searchText=s);var c=window.avito&&window.avito.rmp&&window.avito.rmp.hash;c&&(a.extParam="crpt=".concat(c)),window.Ya.Context.AdvManager.render(a,function(){t(u.createErrorMessage(d.RENDER_FAILED))})})}}]),r}(r.Banner);t.YandexBanner=o},"./src/lib/dom/dom.ts":
/*!****************************!*\
        !*** ./src/lib/dom/dom.ts ***!
        \****************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearElement=function(t){t.removeAttribute("style"),Array.from(t.children).forEach(function(e){t.removeChild(e)})},t.removeElement=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.querySelectAllFrom=function(e,t){return Array.from(t.querySelectorAll(e))};t.waitElement=function(r){var o=!1;return setTimeout(function(){o=!0},4e3),new Promise(function(n){document.addEventListener("DOMContentLoaded",function(){n(document.getElementById(r))});!function t(){setTimeout(function(){var e=document.getElementById(r);e?n(e):o?n(null):t()},10)}()})}},"./src/lib/functions/functions.ts":
/*!****************************************!*\
        !*** ./src/lib/functions/functions.ts ***!
        \****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.isIntersectionObserverSupported=function(){return window.IntersectionObserver&&window.IntersectionObserverEntry&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},t.getCdtm=function(){return performance.now()/1e3}},"./src/lib/logs/logger.ts":
/*!********************************!*\
        !*** ./src/lib/logs/logger.ts ***!
        \********************************/
/*! no static exports found */
function(e,t,o){"use strict";var i=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(t,n){function r(e){try{i(c.next(e))}catch(e){n(e)}}function o(e){try{i(c.throw(e))}catch(e){n(e)}}function i(e){e.done?t(e.value):function(t){return t instanceof a?t:new a(function(e){e(t)})}(e.value).then(r,o)}i((c=c.apply(e,s||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var r,n,s,a,c=o(
/*! ../analytics/clickstream */
"./src/lib/analytics/clickstream.ts"),u=o(
/*! ../analytics/adstat/adstat */
"./src/lib/analytics/adstat/adstat.ts"),l=o(
/*! ../functions/functions */
"./src/lib/functions/functions.ts"),d=o(
/*! ../waterfall/processing */
"./src/lib/waterfall/processing.ts"),f=o(
/*! ../analytics/clicks */
"./src/lib/analytics/clicks.ts");(n=r=t.STAT_EVENT_TYPE||(t.STAT_EVENT_TYPE={})).REQUEST="r",n.PASSBACK="p",(a=s=t.AD_FAIL_CODE||(t.AD_FAIL_CODE={}))[a.POSITION_NOT_EXIST=1e3]="POSITION_NOT_EXIST",a[a.CONTAINER_NOT_EXIST=1001]="CONTAINER_NOT_EXIST",a[a.POSITION_FULLY_REJECTED=1002]="POSITION_FULLY_REJECTED";var p=function(){function t(e){babelHelpers.classCallCheck(this,t),this.logs={},this.isEventSamplingEnabled=e.eventSampling||!1,this.pagetype=e.pagetype||"",this.rcid=e.rcid}return babelHelpers.createClass(t,[{key:"positionNotExist",value:function(e){this.logReject(e,"Does not exist in banner collection"),this.isEventSamplingEnabled&&c.ClickStream.logNoPositionFailed(e,s.POSITION_NOT_EXIST)}},{key:"containerNotExist",value:function(e){this.logReject(e.code,"Container node does not exist in DOM"),c.ClickStream.logAdFail(e,s.CONTAINER_NOT_EXIST)}},{key:"apiNotReady",value:function(e){var t="API for ".concat(e.sellingSystem," is not ready");this.logReject(e.code,t)}},{key:"request",value:function(e){u.AdStat.logRequest(e,r.REQUEST),this.isEventSamplingEnabled&&c.ClickStream.logAdRequest(e)}},{key:"success",value:function(e){this.logSuccess(e),this.isEventSamplingEnabled&&c.ClickStream.logAdRender(e)}},{key:"reject",value:function(e,t,n){e.index===t-1?c.ClickStream.logAdFail(e,s.POSITION_FULLY_REJECTED):(u.AdStat.logRequest(e,r.PASSBACK),this.isEventSamplingEnabled?c.ClickStream.logAdPassback(e):l.noop()),this.logReject(e.code,n)}},{key:"fullyReject",value:function(e){this.logReject(e,"Position was fully rejected")}},{key:"addClickListener",value:function(e,t){var n=this;f.getClickHandler(e.sellingSystem)(t,function(){c.ClickStream.logBannerClick(e,n.pagetype,n.rcid)})}},{key:"addViewObserver",value:function(n,r){return i(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEventSamplingEnabled&&l.isIntersectionObserverSupported()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.resolve().then(function(){return o(
/*! ../../modules/view-observer */
"./src/modules/view-observer.ts")});case 4:t=e.sent,(0,t.handleViewOnBanner)(r,function(){c.ClickStream.logAdView(n)});case 7:case"end":return e.stop()}},e,this)}))}},{key:"clearLogs",value:function(){var t=this;Object.keys(this.logs).forEach(function(e){delete t.logs[e]})}},{key:"logReject",value:function(e,t){this.logs[e]||(this.logs[e]=d.prepareLogs()),this.logs[e].rejects.push(t)}},{key:"logSuccess",value:function(e){var t=e.sellingSystem,n=e.props;this.logs[e.code]||(this.logs[e.code]=d.prepareLogs()),this.logs[e.code].resolved.push({sellingSystem:t,props:n})}}]),t}();t.Logger=p},"./src/lib/rmp/selling-systems.ts":
/*!****************************************!*\
        !*** ./src/lib/rmp/selling-systems.ts ***!
        \****************************************/
/*! no static exports found */
function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.SellingSystems||(t.SellingSystems={})).ADFOX="AdFox",r.AFS="AFS",r.CRITEO="Criteo",r.DFP="DFP",r.MY_TARGET="myTarget",r.YANDEX="Yandex RTB"},"./src/lib/waterfall/nets.ts":
/*!***********************************!*\
        !*** ./src/lib/waterfall/nets.ts ***!
        \***********************************/
/*! no static exports found */
function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});function n(o,e,t){var i=1<arguments.length&&void 0!==e?e:150,s=2<arguments.length&&void 0!==t?t:20;return new Promise(function(r){!function e(t){var n=0<arguments.length&&void 0!==t?t:0;return o()?r(!0):s<=n?r(!1):void setTimeout(function(){e(n+1)},i)}()})}function o(e,t){switch(e){case i.SellingSystems.ADFOX:return n(function(){return Boolean(t.Ya&&t.Ya.adfoxCode)});case i.SellingSystems.YANDEX:return n(function(){return Boolean(t.Ya&&t.Ya.Context&&t.Ya.Context.AdvManager)});case i.SellingSystems.DFP:return n(function(){return Boolean(t.googletag&&t.googletag.apiReady)});case i.SellingSystems.CRITEO:return n(function(){return Boolean(t.Criteo&&t.Criteo.events)});case i.SellingSystems.MY_TARGET:return n(function(){return Boolean(t.MRGtag)});case i.SellingSystems.AFS:return n(function(){return Boolean(t._googCsa)});default:return Promise.resolve(!0)}}var i=t(
/*! ../rmp/selling-systems */
"./src/lib/rmp/selling-systems.ts");r.getUsedSellingSystems=function(t){var n=new Set;return Object.keys(t).forEach(function(e){t[e].forEach(function(e){n.add(e.sellingSystem)})},{}),babelHelpers.toConsumableArray(n)},r.initNets=function(e){var t=r.getUsedSellingSystems(e),n={};return t.forEach(function(e){n[e]=o(e,window)}),n}},"./src/lib/waterfall/processing.ts":
/*!*****************************************!*\
        !*** ./src/lib/waterfall/processing.ts ***!
        \*****************************************/
/*! no static exports found */
function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(t,n){function r(e){try{i(c.next(e))}catch(e){n(e)}}function o(e){try{i(c.throw(e))}catch(e){n(e)}}function i(e){e.done?t(e.value):function(t){return t instanceof a?t:new a(function(e){e(t)})}(e.value).then(r,o)}i((c=c.apply(e,s||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var o=n(
/*! ../banner/banner */
"./src/lib/banner/banner.ts"),i=n(
/*! ../rmp/selling-systems */
"./src/lib/rmp/selling-systems.ts"),s=n(
/*! ../banner/adfox */
"./src/lib/banner/adfox.ts"),a=n(
/*! ../banner/yandex */
"./src/lib/banner/yandex.ts"),c=n(
/*! ../banner/dfp/dfp */
"./src/lib/banner/dfp/dfp.ts"),u=n(
/*! ../banner/criteo */
"./src/lib/banner/criteo.ts"),l=n(
/*! ../banner/mytarget */
"./src/lib/banner/mytarget.ts"),d=n(
/*! ../banner/afs */
"./src/lib/banner/afs.ts"),f=n(
/*! ../dom/dom */
"./src/lib/dom/dom.ts");t.preparePositions=function(n){return!n||"object"!==babelHelpers.typeof(n)||Array.isArray(n)?(console.error("Banners config should be object value, now it is:",n),{}):Object.keys(n).reduce(function(e,t){return e[t]=n[t].map(function(e){return function(e,t){switch(t.sellingSystem){case i.SellingSystems.ADFOX:return new s.AdFoxBanner(e,t);case i.SellingSystems.YANDEX:return new a.YandexBanner(e,t);case i.SellingSystems.DFP:return new c.DFPBanner(e,t);case i.SellingSystems.CRITEO:return new u.CriteoBanner(e,t);case i.SellingSystems.MY_TARGET:return new l.MyTargetBanner(e,t);case i.SellingSystems.AFS:return new d.AFSBanner(e,t);default:return new o.Banner(e,t)}}(t,e)}),e},{})},t.prepareLogs=function(){return{rejects:[],resolved:[]}},t.prepareContainer=function(i,s){return r(void 0,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s,e.t0){e.next=5;break}return e.next=4,f.waitElement("template_".concat(i));case 4:e.t0=e.sent;case 5:if(t=e.t0){e.next=8;break}return e.abrupt("return",null);case 8:if(n=t.children[0]){e.next=11;break}return e.abrupt("return",null);case 11:return r=t.parentNode,Boolean(r.children[1])&&f.removeElement(r.children[1]),o=n.cloneNode(),r.appendChild(o),e.abrupt("return",o);case 17:case"end":return e.stop()}},e)}))},t.setContainerId=function(e,t){var n=0<t.renderCount?"".concat(t.code,"_").concat(t.renderCount):t.code;e.id=n},t.assertOptions=function(e){try{var t=e.eventSampling,n=e.pagetype,r=e.rcid;"boolean"!=typeof t&&console.error("eventSampling should be defined as boolean value, now it is:",t),"string"!=typeof n&&console.error("pagetype should be defined as string value, now it is:",n),void 0===r&&console.error("rcid should be defined, not is:",r)}catch(e){console.error("ads-waterfall options invalid",e)}}},"./src/modules/view-observer.ts":
/*!**************************************!*\
        !*** ./src/modules/view-observer.ts ***!
        \**************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){var t=o.get(e.target);if(e.isIntersecting){t.entryTime=e.time;var n=2e3-t.totalViewTime;t.timerId=setTimeout(function(){clearTimeout(t.timerId),t.callback(),i.unobserve(e.target),o.delete(e.target)},n)}else{!1===e.isIntersecting&&0===t.entryTime||(t.totalViewTime+=e.time-t.entryTime,t.totalViewTime<2e3&&clearTimeout(t.timerId))}}var o=new Map,i=new IntersectionObserver(function(e){return e.forEach(r)},{rootMargin:"0px",threshold:.5});t.handleViewOnBanner=function(e,t){var n={callback:t,entryTime:0,timerId:-1/0,totalViewTime:0};o.set(e,n),i.observe(e)}}},o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===babelHelpers.typeof(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./src/index.ts");function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r},"object"===babelHelpers.typeof(i)&&"object"===babelHelpers.typeof(e)?e.exports=o():(n=[],void 0===(r="function"==typeof(t=o)?t.apply(i,n):t)||(e.exports=r))}).call(this,t(236)(e))},42:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},421:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new v(e,t)),1!==u.length||l||a(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},499:function(e,t,n){"use strict";function r(r,o,i){function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a=t,c=!0,u=this,s||function e(t){s=c?(t||r.apply(u,a),c=!1,setTimeout(e,o)):null}(i)}var s,a,c,u;return e.clean=function(){clearTimeout(s),s=null},e}n.d(t,"a",function(){return r})},6055:function(e,t,n){"use strict";var r=n(734);n(735);var o=n(499),i=n(736),s=n(737);var a=n(738),c=n(739),u=(n(740),"undefined"!=typeof window&&void 0!==window.document),l="//enterprise.api-maps.yandex.ru/2.1/?apikey=".concat("1220b4af-ae8e-4506-ab3a-c6329234066f","&lang=ru_RU&onload=ymapsReady");"".concat(l,"&mode=debug");function d(){return u?(window.avito=window.avito||{},void 0!==window.avito.ymapsPromise||(window.avito.ymapsPromise=new Promise(function(e,t){if(window.ymaps)window.ymaps.ready(e);else{window.ymapsReady=e;var n=document.createElement("script");n.onerror=t,n.src=l;var r=document.getElementsByTagName("script")[0];r?r.before(n):document.head.appendChild(n)}})),window.avito.ymapsPromise):Promise.reject()}var f=n(741);n(745);function p(e){var t=e.getBoundingClientRect();return t.top<=document.documentElement.clientHeight&&t.left<=document.documentElement.clientWidth&&0<=t.bottom&&0<=t.right}n.d(t,"a",function(){return r.a}),n.d(t,"i",function(){return o.a}),n.d(t,"e",function(){return i.a}),n.d(t,"f",function(){return s.a}),n.d(t,"d",function(){return a.a}),n.d(t,"g",function(){return c.a}),n.d(t,"b",function(){return d}),n.d(t,"h",function(){return f.a}),n.d(t,"c",function(){return p})},734:function(e,t,n){"use strict";function r(o,i,s){var a;return function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s&&!a&&o.apply(this,n),clearTimeout(a),a=setTimeout(function(){a=null,s||o.apply(e,n)},i)}}n.d(t,"a",function(){return r})},735:function(e,t,n){"use strict";function r(e){return e&&"object"===babelHelpers.typeof(e)&&e.constructor===Object}n.d(t,"a",function(){return r})},736:function(e,t,n){"use strict";function r(r){return Array.isArray(r)&&r.length?function(n){return Object.keys(n).reduce(function(e,t){return-1===r.indexOf(t)&&(e[t]=n[t]),e},{})}:function(e){return e}}n.d(t,"a",function(){return r})},737:function(e,t,n){"use strict";function r(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(n).reduce(function(e,t){return-1!==r.indexOf(t)&&(e[t]=n[t]),e},{})}}n.d(t,"a",function(){return r})},738:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(735);function o(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?function(e,t){var n=encodeURIComponent(e);return t.map(function(e){return"".concat(n,"[]=").concat(encodeURIComponent(e))}).join("&")}(e,t):Object(r.a)(t)?function(e,i){var s=encodeURIComponent(e);return Object.keys(i).map(function(e){var t=[e,i[e]].map(encodeURIComponent),n=babelHelpers.slicedToArray(t,2),r=n[0],o=n[1];return"".concat(s,"[").concat(r,"]=").concat(o)}).join("&")}(e,t):function(e,t){return[e,t].map(encodeURIComponent).join("=")}(e,t)}).join("&")}},739:function(e,t,n){"use strict";function r(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split("&").reduce(function(e,t){if(!t)return e;var n=t.split("=").map(decodeURIComponent),r=babelHelpers.slicedToArray(n,2),o=r[0],i=r[1],s=o.match(/^([\w\-?]*)(\[((\w|-)*)\])?$/)||[],a=babelHelpers.slicedToArray(s,4),c=a[1],u=a[2],l=a[3];if(!c)throw new Error("Key `".concat(o,"` has invalid format"));var d=u&&!l;return!e[c]&&u&&(e[c]=d?[]:{}),l?e[c][l]=i:d?e[c].push(i):e[c]=i,e},{})}n.d(t,"a",function(){return r})},740:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=function(e){return e};function r(e,r){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i;return e&&r?e.reduce(function(e,t){var n=t[r];return n&&(e[n]=o(t)),e},{}):{}}},741:function(e,t,n){"use strict";var r,o,i=n(742),s=n.n(i);if("undefined"==typeof window)r=function(){return new Promise(function(e){return e({})})};else{var a="last-ref-id",c=window.location.origin;window.performance&&window.performance.navigation&&1===window.performance.navigation.type||(o=c,window.document.referrer&&window.document.referrer.startsWith(o))||window.localStorage.removeItem(a),window.sessionStorage.tabId=window.sessionStorage.tabId||s()();var u=window.sessionStorage.tabId,l=function(){var e=window.localStorage.getItem(a),t=s()();return window.localStorage.setItem(a,t),{refId:t,parentRefId:e,tabId:u}};r=function(e,t){var n=1<arguments.length&&void 0!==t?t:"/events/add";for(var r in e)e.hasOwnProperty(r)&&null===e[r]&&(e[r]=void 0);var o=l(),i=o.refId,s=o.parentRefId,a=o.tabId;return e.ref_id=i||"",e.parent_ref_id=s||"",e.tab_id=a||"",fetch(n,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)}).then(function(e){return 400<=e.status?Promise.reject(e):{response:e,refId:i,parentRefId:s,tabId:a}})}}t.a=r},742:function(e,t,n){var s=n(743),a=n(744);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||a(o)}},743:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},744:function(e,t){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=o;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},745:function(e,t,n){"use strict";function r(t){var n=new FormData;return Object.keys(t).forEach(function(e){t[e]&&n.append(e,t[e])}),n}n.d(t,"a",function(){return r})}}]);