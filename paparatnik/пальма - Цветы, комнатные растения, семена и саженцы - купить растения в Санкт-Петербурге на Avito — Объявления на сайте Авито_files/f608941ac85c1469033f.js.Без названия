(window.webpackJsonp=window.webpackJsonp||[]).push([["14a2a90f"],{872:function(e,t,r){"use strict";var p=r(35),n=r(45),a=r.n(n),u=r(873),i=r(822),o=r(861),s=r(880),c=r.n(s),l=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.getInputNode,r=e.layoutRef,i=e.textAlign,o=e.ariaExpanded,s=e.onClick,l=babelHelpers.objectWithoutProperties(e,["getInputNode","layoutRef","textAlign","ariaExpanded","onClick"]);return p.createElement(u.a,babelHelpers.extends({},l,{inputRef:t,layoutRef:r}),function(e){var t=e.refs,r=e.className,n=e.renderers,a=babelHelpers.objectWithoutProperties(e,["refs","className","renderers"]);return p.createElement(p.Fragment,null,p.createElement("label",{ref:t.layoutRef,className:r,"aria-readonly":l.readOnly,"aria-expanded":o},n.before(),"right"===i&&n.loading(),p.createElement("input",babelHelpers.extends({},a,{ref:t.inputRef,className:c.a.input,onClick:s})),"left"===i&&n.loading(),n.clear(),n.after()),n.error())})}}]),t}(p.PureComponent);babelHelpers.defineProperty(l,"eventHandlers",["onChange","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onClick"]),babelHelpers.defineProperty(l,"propTypes",{className:a.a.string,size:a.a.oneOf(["s","m","l"]),width:a.a.oneOfType([a.a.string,a.a.number]),stick:u.a.propTypes.stick,error:a.a.oneOfType([a.a.bool,a.a.string]),clearable:a.a.bool,loading:a.a.bool,before:a.a.oneOfType([a.a.string,a.a.node]),after:a.a.oneOfType([a.a.string,a.a.node]),getInputNode:a.a.func,layoutRef:a.a.func,marker:a.a.string,markerId:a.a.oneOfType([a.a.string,a.a.number]),id:a.a.string,name:a.a.string,value:a.a.oneOfType([a.a.string,a.a.number]),type:a.a.oneOf(["text","password","email","hidden","search","tel","url","month"]),disabled:a.a.bool,autoComplete:a.a.string,autoCapitalize:a.a.string,autoCorrect:a.a.string,autoFocus:a.a.bool,textAlign:a.a.oneOf(["left","right"]),inputMode:a.a.oneOf(["verbatim","numeric","tel","email","url"]),maxLength:a.a.oneOfType([a.a.string,a.a.number]),minLength:a.a.oneOfType([a.a.string,a.a.number]),pattern:a.a.string,placeholder:a.a.string,readOnly:a.a.bool,required:a.a.bool,tabIndex:a.a.oneOfType([a.a.string,a.a.number]),onChange:a.a.func,onKeyDown:a.a.func,onKeyPress:a.a.func,onKeyUp:a.a.func,onFocus:a.a.func,onBlur:a.a.func,onClick:a.a.func,ariaExpanded:a.a.bool}),babelHelpers.defineProperty(l,"defaultProps",{size:"s",type:"text",textAlign:"left"}),t.a=Object(o.a)(Object(i.a)(l))},873:function(e,t,r){"use strict";var o=r(35),n=r(45),a=r.n(n),b=r(6178),s=r(874),l=r(866),p=r(820),u=r(878),i=r(879),h=r.n(i),c=r(870),m=r.n(c);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var f=function(e){function a(){var e,i;babelHelpers.classCallCheck(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(a)).call.apply(e,[this].concat(r))),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"state",{focus:!1,layoutRef:null}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"inputRef",null),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"renderBefore",function(){var e=i.props.before;return e&&o.createElement("span",{className:h.a.before},e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"renderAfter",function(){var e=i.props.after;return e&&o.createElement("span",{className:h.a.after},e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"renderLoading",function(){return i.props.loading?o.createElement("div",{className:h.a.icon},o.createElement(l.a,null)):null}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"renderClear",function(){var e=i.props,t=e.readOnly,r=e.disabled,n=e.clearable,a=e.value;return!n||t||r||!a?null:o.createElement("div",{className:h.a.icon,"data-marker":"clear-icon",onClick:i.handleClickClear},o.createElement(p.b,{name:"cross"}))}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"renderTooltipError",function(){var e=i.props.error;return"string"!=typeof e?null:o.createElement(s.a,{content:o.createElement("span",{className:h.a.error},e),placement:"right",open:!0,target:i.state.layoutRef,usePortal:!0})}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"handleClickClear",function(){var e=i.inputRef||i.state.layoutRef;e&&Object(u.a)(e,"")}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"handleFocus",function(e){var t=i.props.onFocus;i.setState({focus:!0}),t&&t(e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"handleBlur",function(e){var t=i.props.onBlur;i.setState({focus:!1}),t&&t(e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"setLayoutRef",function(e){var t=i.props.layoutRef;t&&t(e),i.setState({layoutRef:e})}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"setInputRef",function(e){var t=i.props,r=t.inputRef,n=t.innerRef;n&&n(e),r&&r(e),i.inputRef=e}),i}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"render",value:function(){var e,t=this.props,r=(t.clearable,t.before,t.after,t.loading,t.onClear,t.inputRef,t.layoutRef,t.innerRef,t.theme,t.textAlign),n=t.size,a=t.width,i=t.error,o=t.stick,s=t.marker,l=t.markerId,p=t.children,u=t.className,c=babelHelpers.objectWithoutProperties(t,["clearable","before","after","loading","onClear","inputRef","layoutRef","innerRef","theme","textAlign","size","width","error","stick","marker","markerId","children","className"]),f=this.state.focus,d=Object(b.a)(h.a["input-layout"],h.a["size-".concat(n)],h.a["text-align-".concat(r)],m.a["width-".concat(a)],(e={},babelHelpers.defineProperty(e,h.a.focus,f),babelHelpers.defineProperty(e,h.a.disabled,c.disabled),babelHelpers.defineProperty(e,h.a.error,i),babelHelpers.defineProperty(e,h.a["stick-after"],"after"===o),babelHelpers.defineProperty(e,h.a["stick-before"],"before"===o),babelHelpers.defineProperty(e,h.a["stick-above"],"above"===o),babelHelpers.defineProperty(e,h.a["stick-below"],"below"===o),babelHelpers.defineProperty(e,h.a["stick-both-horizontal"],"both-horizontal"===o),babelHelpers.defineProperty(e,h.a["stick-both-vertical"],"both-vertical"===o),e),u);return p(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(r,!0).forEach(function(e){babelHelpers.defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},Object(b.b)({marker:s,markerId:l}),{},c,{className:d,refs:{layoutRef:this.setLayoutRef,inputRef:this.setInputRef},renderers:{clear:this.renderClear,loading:this.renderLoading,error:this.renderTooltipError,before:this.renderBefore,after:this.renderAfter},onFocus:this.handleFocus,onBlur:this.handleBlur}))}}]),a}(o.Component);babelHelpers.defineProperty(f,"propTypes",{theme:a.a.object,children:a.a.func,className:a.a.string,size:a.a.oneOf(["s","m","l"]),width:a.a.oneOfType([a.a.string,a.a.number]),value:a.a.string,defaultValue:a.a.string,stick:a.a.oneOf(["before","both-horizontal","both-vertical","after","above","below"]),textAlign:a.a.oneOf(["left","right"]),error:a.a.oneOfType([a.a.bool,a.a.string]),clearable:a.a.bool,loading:a.a.bool,disabled:a.a.bool,readOnly:a.a.bool,before:a.a.node,after:a.a.node,onFocus:a.a.func,onBlur:a.a.func,innerRef:a.a.func,inputRef:a.a.func,layoutRef:a.a.func,marker:a.a.string,markerId:a.a.oneOfType([a.a.string,a.a.number])}),babelHelpers.defineProperty(f,"defaultProps",{textAlign:"left",size:"s",width:12}),t.a=f},891:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var l=r(35),n=r(38),p=r.n(n),a=r(45),i=r.n(a),u=r(6077),o=r(892),c=r.n(o),s=["auto","auto-end","auto-start","bottom","bottom-end","bottom-start","left","left-end","left-start","right","right-end","right-start","top","top-end","top-start"],f=function(e){function a(){var e,s;babelHelpers.classCallCheck(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return s=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(a)).call.apply(e,[this].concat(r))),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(s),"targetRef",null),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(s),"dropdownRef",null),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(s),"renderPopoper",function(){var e=s.props,t=e.usePortal,r=e.open,a=e.marker,i=e.component,n=babelHelpers.objectWithoutProperties(e,["usePortal","open","marker","component"]);if(!r)return null;var o=l.createElement(u.b,babelHelpers.extends({},s.getPopperOptions(n),{innerRef:s.setDropdownRef}),function(e){var t=e.ref,r=e.style,n=e.placement;return l.createElement("div",{ref:t,style:r,className:c.a["dropdown-box"],"data-marker":a,"data-placement":n},i)});return t&&(o=p.a.createPortal(o,document.body)),o}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(s),"onOutsideClick",function(e){var t=s.props,r=t.onOutsideClick;!t.open||s.dropdownRef.contains(e.target)||s.targetRef.contains(e.target)||r(e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(s),"setTargetRef",function(e){var t=s.props.targetRef;s.targetRef=e,t&&t(e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(s),"setDropdownRef",function(e){var t=s.props.dropdownRef;s.dropdownRef=e,t&&t(e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(s),"getPopperOptions",function(e){var t=e.flip;return{placement:e.placement,modifiers:{preventOverflow:{escapeWithReference:!0},flip:{enabled:t}}}}),s}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"componentDidMount",value:function(){this.props.onOutsideClick&&(document.addEventListener("mousedown",this.onOutsideClick,!0),document.addEventListener("touchstart",this.onOutsideClick,!0))}},{key:"componentWillUnmount",value:function(){this.props.onOutsideClick&&(document.removeEventListener("mousedown",this.onOutsideClick,!0),document.removeEventListener("touchstart",this.onOutsideClick,!0))}},{key:"render",value:function(){var e=this.props.children;return l.createElement(u.a,null,l.createElement(u.c,{innerRef:this.setTargetRef},e),this.renderPopoper())}}]),a}(l.Component);babelHelpers.defineProperty(f,"propTypes",{children:i.a.any,component:i.a.node,open:i.a.bool,placement:i.a.oneOf(s),flip:i.a.bool,usePortal:i.a.bool,marker:i.a.string,onOutsideClick:i.a.func,targetRef:i.a.func,dropdownRef:i.a.func}),babelHelpers.defineProperty(f,"defaultProps",{placement:"bottom-start",flip:!0,usePortal:!1}),t.b=f},893:function(e,t,r){"use strict";var b=r(35),n=r(45),a=r.n(n),i=r(894),l=r.n(i),o=r(895),s=r(896),p=r.n(s),u=r(891);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach(function(e){babelHelpers.defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var f=function(e){function a(){var e,d;babelHelpers.classCallCheck(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(a)).call.apply(e,[this].concat(r))),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"state",{dropdownWidth:null,keySelected:null}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"keys",""),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"targetRef",null),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"listRef",null),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"renderRow",function(e,t){var r=d.props,n=r.value,a=r.item,i=r.name,o=r.options,s=r.marker,l=d.state.keySelected,p=o[e],u=b.isValidElement(a)?b.cloneElement:b.createElement,c=l?l===p:function(e,t){return Array.isArray(e)?e.includes(t):!(!e||"object"!==babelHelpers.typeof(e))&&e===t}(n,p),f=h({role:"option","aria-selected":c},i&&{id:"".concat(i,"-").concat(e)});return u(a,{key:t,index:e,option:p,selected:c,marker:s,markerId:e,aria:f,onClick:function(){return d.handleItemClick(e)}})}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"renderDropdown",function(){var e=d.props,t=e.options,r=e.height,n=e.marker,a=e.width,i=e.reactListType,o=d.state.dropdownWidth,s=h({maxHeight:r},o&&"target"===a&&{width:"".concat(o,"px")});return b.createElement("div",babelHelpers.extends({ref:d.setListRef,style:s,className:p.a["dropdown-list"],"data-marker":n,onKeyDown:d.handleKeyDown},{role:"listbox","aria-activedescendant":"",tabIndex:1}),b.createElement(l.a,{ref:d.setListInstanceRef,itemRenderer:d.renderRow,length:t.length,type:i}))}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"resetKeys",Object(o.a)(function(){d.keys=""},250)),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"handleItemClick",function(e){var t,r=d.props,n=r.value,a=r.multiple,i=r.options,o=r.name,s=r.onChange,l=i[e];t=a?(t=n&&n.includes(l)?n.filter(function(e){return e!==l}):(n||[]).concat(l)).length?t:null:n===l?null:l,s&&s({index:e,name:o,value:t})}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"handleKeyDown",function(e){var t=d.props,r=t.value,n=t.options,a=t.multiple,i=t.name,o=t.onChange,s=d.state.keySelected;if(e.preventDefault(),"Escape"!==e.key){if(1===e.key.length&&/\S/.test(e.key)){d.keys+=e.key,d.resetKeys();var l=n.findIndex(function(e){return e.text.toLowerCase().startsWith(d.keys)});if(-1!==l)return void d.setState({keySelected:n[l]},function(){d.listInstanceRef.scrollTo(l)})}if(!a&&("ArrowUp"===e.key||"ArrowDown"===e.key||"Enter"===e.key)){var p=null===r&&null===s?0:n.findIndex(function(e){return s?e===s:e===r});if("Enter"===e.key&&o)return void o({index:p,name:i,value:n[p]});"ArrowUp"===e.key&&(p=null===r&&null===s?0:0===p?0:p-1),"ArrowDown"===e.key&&(p=null===r&&null===s?0:n.length-1===p?p:p+1),d.setState({keySelected:n[p]},function(){d.listInstanceRef.scrollAround(p)})}}else d.handleClose(e)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"handleClose",function(e){var t=d.props.onClose;t&&t(e),d.setState({keySelected:null})}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"handleOutsideClick",function(e){var t=d.props.onOutsideClick;t&&(t(e),d.setState({keySelected:null}))}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"setTargetRef",function(e){d.targetRef=e}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"setListRef",function(e){d.listRef=e}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"setListInstanceRef",function(e){d.listInstanceRef=e}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"setListFocus",function(){d.listRef&&setTimeout(function(){d.listRef.focus()},200)}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(d),"setDropdownWidth",function(){if(!d.targetRef)return null;d.setState({dropdownWidth:d.targetRef.offsetWidth})}),d}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"componentDidMount",value:function(){this.setDropdownWidth(),this.setListFocus()}},{key:"componentDidUpdate",value:function(){this.props.open&&this.setListFocus()}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.open,n=e.usePortal,a=e.flip,i=e.placement;return b.createElement(u.b,{component:this.renderDropdown(),usePortal:n,flip:a,open:r,placement:i,targetRef:this.setTargetRef,onOutsideClick:this.handleOutsideClick},t)}}]),a}(b.Component);babelHelpers.defineProperty(f,"propTypes",{children:a.a.func,options:a.a.array,value:a.a.oneOfType([a.a.array,a.a.object]),item:a.a.oneOfType([a.a.node,a.a.func]),height:a.a.oneOfType([a.a.number,a.a.string]),open:a.a.bool,name:a.a.string,flip:a.a.bool,usePortal:a.a.bool,marker:a.a.string,placement:a.a.oneOf(u.a),onClose:a.a.func,onChange:a.a.func,onKeyDown:a.a.func,onOutsideClick:a.a.func,multiple:a.a.bool,width:a.a.oneOf(["target","auto"]),reactListType:a.a.oneOf(["variable","uniform","simple"])}),babelHelpers.defineProperty(f,"defaultProps",{flip:!0,usePortal:!0,height:"300px",width:"target"}),t.a=f},894:function(S,e,t){var r,n,a;n=[t(35),t(45)],void 0===(a="function"==typeof(r=function(g,e){"use strict";var t,r;function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}g=function(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(g),e=function(e){return e&&e.__esModule?e:{default:e}}(e);var f={x:"clientWidth",y:"clientHeight"},d={x:"clientTop",y:"clientLeft"},b={x:"innerWidth",y:"innerHeight"},h={x:"offsetWidth",y:"offsetHeight"},m={x:"offsetLeft",y:"offsetTop"},y={x:"overflowX",y:"overflowY"},v={x:"scrollWidth",y:"scrollHeight"},P={x:"scrollLeft",y:"scrollTop"},w={x:"width",y:"height"},O=function(){},k=!!function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",O,{get passive(){return!(e=!0)}})}catch(e){}return e}()&&{passive:!0},H=function(e,t){var r=e.length,n=e.minSize,a=e.type,i=t.from,o=t.size,s=t.itemsPerRow,l=(o=Math.max(o,n))%s;return l&&(o+=s-l),r<o&&(o=r),i="simple"!==a&&i?Math.max(Math.min(i,r-o),0):0,(l=i%s)&&(i-=l,o+=l),i===t.from&&o==t.size?t:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(r,!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},t,{from:i,size:o})};S.exports=(r=t=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a(this,i(r).call(this,e))).state=H(e,{itemsPerRow:1,from:e.initialIndex,size:0}),t.cache={},t.cachedScrollPosition=null,t.prevPrevState={},t.unstable=!1,t.updateCounter=0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,e),l(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=H(e,t);return r===t?null:r}}]),l(r,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(50<++this.updateCounter)return this.unstable=!0,console.error("ReactList failed to reach a stable state.");this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){t.updateCounter=0,delete t.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(function(e,t){for(var r in t){if(e[r]!==t[r])return false}return true}(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,k),this.scrollParent.removeEventListener("mousewheel",O,k)}},{key:"getOffset",value:function(e){for(var t=this.props.axis,r=e[d[t]]||0,n=m[t];r+=e[n]||0,e=e.offsetParent;);return r}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"==typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=this.props.axis,r=P[t],n=e===window?document.body[r]||document.documentElement[r]:e[r],a=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),i=Math.max(0,Math.min(n,a)),o=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+i-this.getOffset(o),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,r=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[P[r]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,r=t.body,n=t.documentElement,a=v[this.props.axis];return e===window?Math.max(r[a],n[a]):e[a]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter,r=e.type;return"uniform"===r||t}},{key:"getStartAndEnd",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),r=Math.max(0,t-e),n=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(n=Math.min(n,this.getSpaceBefore(this.props.length))),{start:r,end:n}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,r=e.useStaticSize,n=this.state,a=n.itemSize,i=n.itemsPerRow;if(r&&a&&i)return{itemSize:a,itemsPerRow:i};var o=this.items.children;if(!o.length)return{};var s=o[0],l=s[h[t]],p=Math.abs(l-a);if((isNaN(p)||1<=p)&&(a=l),!a)return{};for(var u=m[t],c=s[u],f=o[i=1];f&&f[u]===c;f=o[i])++i;return{itemSize:a,itemsPerRow:i}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=O),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",O)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,k),this.scrollParent.addEventListener("mousewheel",O,k))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd(),r=t.end,n=this.items.children,a=0;if(n.length){var i=this.props.axis,o=n[0],s=n[n.length-1];a=this.getOffset(s)+s[h[i]]-this.getOffset(o)}if(r<a)return e();var l=this.props,p=l.pageSize,u=l.length,c=Math.min(this.state.size+p,u);this.maybeSetState({size:c},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),r=t.start,n=t.end,a=this.props,i=a.length,o=a.pageSize,s=0,l=0,p=0,u=i-1;l<u;){var c=this.getSizeOfItem(l);if(null==c||r<s+c)break;s+=c,++l}for(var f=i-l;p<f&&s<n;){var d=this.getSizeOfItem(l+p);if(null==d){p=Math.min(p+o,f);break}s+=d,++p}this.maybeSetState({from:l,size:p},e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),r=t.itemSize,n=t.itemsPerRow;if(!r||!n)return e();var a=this.getStartAndEnd(),i=a.start,o=a.end,s=H(this.props,{from:Math.floor(i/r)*n,size:(Math.ceil((o-i)/r)+1)*n,itemsPerRow:n}),l=s.from,p=s.size;return this.maybeSetState({itemsPerRow:n,from:l,itemSize:r,size:p},e)}},{key:"getSpaceBefore",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var r=this.state,n=r.itemSize,a=r.itemsPerRow;if(n)return t[e]=Math.floor(e/a)*n;for(var i=e;0<i&&null==t[--i];);for(var o=t[i]||0,s=i;s<e;++s){t[s]=o;var l=this.getSizeOfItem(s);if(null==l)break;o+=l}return t[e]=o}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,r=this.items.children,n=h[this.props.axis],a=0,i=r.length;a<i;++a)e[t+a]=r[a][n]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,r=this.items,n=this.props,a=n.axis,i=n.itemSizeGetter,o=n.itemSizeEstimator,s=n.type,l=this.state,p=l.from,u=l.itemSize,c=l.size;if(u)return u;if(i)return i(e);if(e in t)return t[e];if("simple"===s&&p<=e&&e<p+c&&r){var f=r.children[e-p];if(f)return f[h[a]]}return o?o(e,t):void 0}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),r=this.getSpaceBefore(e),n=r-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),a=Math.min(n,r),i=Math.max(n,r);return t<=a?this.setScroll(a):i<t?this.setScroll(i):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,r=this.state,n=r.from,a=r.size,i=this.getStartAndEnd(0),o=i.start,s=i.end,l={},p=n;p<n+a;++p){var u=this.getSpaceBefore(p,l),c=u+this.getSizeOfItem(p);null==e&&o<c&&(e=p),null!=e&&u<s&&(t=p)}return[e,t]}},{key:"renderItems",value:function(){for(var t=this,e=this.props,r=e.itemRenderer,n=e.itemsRenderer,a=this.state,i=a.from,o=a.size,s=[],l=0;l<o;++l)s.push(r(i+l,l));return n(s,function(e){return t.items=e})}},{key:"render",value:function(){var t=this,e=this.props,r=e.axis,n=e.length,a=e.type,i=e.useTranslate3d,o=this.state,s=o.from,l=o.itemsPerRow,p=this.renderItems();if("simple"===a)return p;var u={position:"relative"},c={},f=Math.ceil(n/l)*l,d=this.getSpaceBefore(f,c);d&&(u[w[r]]=d,"x"===r&&(u.overflowX="hidden"));var b=this.getSpaceBefore(s,c),h="x"===r?b:0,m="y"===r?b:0,y=i?"translate3d(".concat(h,"px, ").concat(m,"px, 0)"):"translate(".concat(h,"px, ").concat(m,"px)"),v={msTransform:y,WebkitTransform:y,transform:y};return g.default.createElement("div",{style:u,ref:function(e){return t.el=e}},g.default.createElement("div",{style:v},p))}}]),r}(g.Component),c(t,"displayName","ReactList"),c(t,"propTypes",{axis:e.default.oneOf(["x","y"]),initialIndex:e.default.number,itemRenderer:e.default.func,itemSizeEstimator:e.default.func,itemSizeGetter:e.default.func,itemsRenderer:e.default.func,length:e.default.number,minSize:e.default.number,pageSize:e.default.number,scrollParentGetter:e.default.func,scrollParentViewportSizeGetter:e.default.func,threshold:e.default.number,type:e.default.oneOf(["simple","variable","uniform"]),useStaticSize:e.default.bool,useTranslate3d:e.default.bool}),c(t,"defaultProps",{axis:"y",itemRenderer:function(e,t){return g.default.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return g.default.createElement("div",{ref:t},e)},length:0,minSize:1,pageSize:10,scrollParentGetter:function(e){var t=e.props.axis,r=e.getEl(),n=y[t];while(r=r.parentElement){switch(window.getComputedStyle(r)[n]){case"auto":case"scroll":case"overlay":return r}}return window},scrollParentViewportSizeGetter:function(e){var t=e.props.axis,r=e.scrollParent;return r===window?window[b[t]]:r[f[t]]},threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1}),r)})?r.apply(e,n):r)||(S.exports=a)}}]);